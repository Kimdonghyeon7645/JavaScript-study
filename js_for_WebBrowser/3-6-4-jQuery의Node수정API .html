<!--
jQuery에서 Node 객체 수정 API,
jQuery를 이용해서 노드를 제어하는 방법은, Node 객체의 수정 API처럼, 추가, 제거, 바꾸기 말고도,
jQuery에선 추가로 노드의 복사와 이동도 제어 할 수 있다.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery(제이쿼리)의 Node 수정 API</title>
</head>
<body>
    <input type='button' value='Node 삽입' id='insert'>
    <input type='button' value='Node 삭제' id='remove'>
    <input type='button' value='Node 바꾸기' id='replace'>
    <input type='button' value='Node 복사' id='copy'>
    <input type='button' value='Node 이동' id='move'>
    <input type='button' value='Node 초기화' id='reset'>

    <ul class='tar'>
        <li>예시1</li>
    </ul>
    <ul class='tar'>
        <li>예시2</li>
    </ul>

    <ul class='other'>
    </ul>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.js'></script>
    <script>
        $('#reset').click(function(){
            $('div').remove()
            $('li').remove()
            $('.tar').append('<li>다시돌아온 예시</li>')
        })

        $('#insert').click(function(){
            $('.tar').before('<div>before 위치</div>')
            $('.tar').after('<div>after 위치</div>')
            $('.tar').prepend('<li>prepend 위치</li>')
            $('.tar').append('<li>append 위치</li>')
        })
        /*
        jQuery 에서 노드를 추가하는 메서드는 4가지다.

        .before()
        : 해당 노드의 바로 앞에 노드를 추가 (형 노드로 추가)
        .after()
        : 해당 노드의 바로 뒤에 노드를 추가 (동생 노드로 추가)
        .prepend()
        : 해당 노드안에서 가장 앞에 노드를 추가 (첫째 자식 노드로 추가)
        .append()
        : 해당 노드안에서 가장 뒤에 노드를 추가 (막내 자식 노드로 추가)
        */

        $('#remove').click(function(){
            $('li', '.tar').empty()
            $('div').remove()
        })
        /*
        jQuery 에서 노드를 삭제하는 메서드는 remove, empty가 있다.

        .remove()
        : 선택된 해당 요소(엘리먼트)를 제거
        .empty()
        : 선택된 해당 요소(엘리먼트)의 텍스트 노드를 제거
        */

        $('#replace').click(function(){
            $('<li>바꿔치기!</li>').replaceAll('li', '.tar')
            $('.tar li').replaceWith('<li>다시 바꿔치기!</li>')
        })
        /*
        jQuery 에서 노드를 변경하는 메서드는, replaceAll, replaceWith가 있다.
        Node 객체는 노드를 변경할때, 그 노드의 부모 노드에서 자식노드를 변경하는 메서드를 사용했었지만,
        jQuery 객체에서 노드를 변경할 때는, 그럴필요없이 대상 노드를 바로 변경한다.
        
        대신에 두 노드를 변경하는 메서드에서 둘의 차이가 있다.
        old -> new 로 노드의 상태를 변경한다고 하면,
        replaceAll 메서드는, new.replaceAll(old) 이고,
        replaceWith 메서드는, old.replaceWith(new) 이다.
        변경 전 상태(=대상 노드, old)와 변경 후 상태(new)가 두 메서드에서 위치를 반대로 전달받아서 사용하니 주의하자.
        */

        $('#copy').click(function(){
            $('.other').append($('.tar li').clone())
        })
        $('#move').click(function(){
            $('.other').append($('.tar li'))
        })
        /*
        jQuery 에서 노드를 clone 메서드로 복사할 수 있다. 
        이렇게 복사되서 만들어진 노드, 요소(엘리먼트)를 아까 노드를 추가하는 메서드를 사용해서 원하는 위치에 복사해줄 수 있다.
        여기서 복사가 아니라, 잘라내기->붙여넣기 방식으로 노드를 이동하고 싶으면, clone 메서드를 쓰지 않으면 된다.
        */
    </script>
</body>
</html>
